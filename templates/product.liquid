<div class="product-page">
	<div class="row">
		<div class="col-sm-6">
			<div class="product-images">
				<div class="product-featured-image">
					<a href="{{ product.featured_image.src | product_img_url: 'original' }}">
						<img class="img-responsive" src="{{ product.featured_image.src | product_img_url: 'grande' }}" alt="{{ product.featured_image.alt | escape }}" />
					</a>
				</div>
				<div class="product-img-list clearfix">
					{% for image in product.images | offset:1 %}       
					<div class="product-img left {% cycle '','','last' %}">
						<a href="{{ image.src | product_img_url: 'original' }}">
							<img src="{{ image.src | product_img_url: 'small' }}" alt="{{ image.alt | escape }}" />
						</a>
					</div>
					{% endfor %}
				</div>
			</div>
		</div>
		<div class="col-sm-6">
			<div class="product-details">
				<h2 class="product-header">{{ product.title }}</h2>
				<div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
					<div class="panel panel-default">
						<div class="panel-heading" role="tab" id="headingOne">
							<h4 class="panel-title">
								<a data-toggle="collapse" data-parent="#accordion" href="#description" aria-expanded="true" aria-controls="collapseOne">
								Product Description
								</a>
							</h4>
						</div>
						<div id="description" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="headingOne">
							<div class="panel-body">
								{{ product.description}}
							</div>
						</div>
					</div>
					<div class="panel panel-default">
						<div class="panel-heading" role="tab" id="headingTwo">
							<h4 class="panel-title">
								<a class="collapsed" data-toggle="collapse" data-parent="#accordion" href="#returns" aria-expanded="false" aria-controls="collapseTwo">
									Returns
								</a>
							</h4>
						</div>
						<div id="returns" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">
							<div class="panel-body">
								{{ pages.returns.content }}
							</div>
						</div>
					</div>
					<div class="panel panel-default">
						<div class="panel-heading" role="tab" id="headingTwo">
							<h4 class="panel-title">
								<a class="collapsed" data-toggle="collapse" data-parent="#accordion" href="#ringSizeGuide" aria-expanded="false" aria-controls="collapseTwo">
									Ring Size Guide
								</a>
							</h4>
						</div>
						<div id="ringSizeGuide" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">
							<div class="panel-body">
								{{ pages.ring-size-guide.content }}
							</div>
						</div>
					</div>
				</div>
				<div class="price-field"></div>
				<form action="/cart/add" method="post" class="product-form">
					<div class="product-variants">
						<select id="product-select" name="id">
							{% for variant in product.variants %}
							<option value="{{ variant.id }}">{{ variant.title }} - {{ variant.price | money }}</option>
							{% endfor %}
						</select>
					</div>
					<input type="submit" name="add" value="Purchase" class="btn" />
				</form>
			</div>
		</div>
	</div>
</div>

<script type="text/javascript">

  // <![CDATA[  
  var selectCallback = function(variant, selector) {
  	if (variant && variant.available == true) {
	// selected a valid variant
	jQuery('.purchase').removeClass('disabled').removeAttr('disabled'); // remove unavailable class from add-to-cart button, and re-enable button
	jQuery('.price-field').html(Shopify.formatMoney(variant.price, "{{shop.money_with_currency_format}}"));  // update price field
} else {
	// variant doesn't exist
	jQuery('.purchase').addClass('disabled').attr('disabled', 'disabled');      // set add-to-cart button to unavailable class and disable button
	var message = variant ? "Sold Out" : "Unavailable";    
	jQuery('.price-field').text(message); // update price-field message
}
};

// initialize multi selector for product
jQuery(function() {
	new Shopify.OptionSelectors("product-select", { product: {{ product | json }}, onVariantSelected: selectCallback });
	jQuery('.selector-wrapper').addClass('clearfix');
	{% if product.options.size == 1 %}
	jQuery('.selector-wrapper').prepend("<label for='product-select-option-0'>{{ product.options.first }}</label>");
	{% endif %}
});
// ]]>
</script>